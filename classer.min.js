"use strict";if(typeof module==="undefined"||!module||typeof module.exports==="undefined"){window.Classer=makeClass}else{module.exports=exports=makeClass;exports.create=makeClass}function makeClass(descriptors){descriptors=descriptors||{};var Class=function(config){if(!(this instanceof Class)){return new Class(config)}if(config){this.configure(config)}};makePrototype(descriptors,Class);makeStatic(descriptors,Class);return Class}function defineProperty(descriptors,subject,name,descriptor){descriptor=descriptor||{value:null};if(typeof descriptor==="function"){descriptor={enumerable:false,configurable:true,writable:true,value:descriptor}}if(descriptor.value===undefined&&!(descriptor.get||descriptor.set)){descriptor.value=null}if(descriptor.writable==null&&descriptor.value!==undefined){descriptor.writable=true}if(descriptor.enumerable==null){descriptor.enumerable=true}if(descriptor.configurable==null){descriptor.configurable=true}descriptors[name]=descriptor;Object.defineProperty(subject,name,descriptor)}function makeStatic(descriptors,Class){Object.defineProperties(Class,{create:{configurable:true,value:function(properties){return new Class(properties)}},descriptors:{value:descriptors},defineProperty:{configurable:true,value:function(name,descriptor){defineProperty(descriptors,this.prototype,name,descriptor);if(!this.prototype.configure||this.prototype.configure.isAutoGenerated){this.prototype.configure=makeConfigure(descriptors)}if(!this.prototype.toJSON||this.prototype.toJSON.isAutoGenerated){this.prototype.toJSON=makeToJSON(descriptors)}return this}},defineProperties:{configurable:true,value:function(items){if(!items){return this}var keys=Object.keys(items),total=keys.length,key,i;for(i=0;i<total;i++){key=keys[i];defineProperty(descriptors,this.prototype,key,items[key])}if(!this.prototype.configure||this.prototype.configure.isAutoGenerated){this.prototype.configure=makeConfigure(descriptors)}if(!this.prototype.toJSON||this.prototype.toJSON.isAutoGenerated){this.prototype.toJSON=makeToJSON(descriptors)}return this}},inherits:{configurable:true,value:function(Super){var keys=Object.keys(Super),total=keys.length,key,i;for(i=0;i<total;i++){key=keys[i];if(!this.hasOwnProperty(key)){this[key]=Super[key]}}var superDescriptors=Super.descriptors||{};keys=Object.keys(superDescriptors);total=keys.length;for(i=0;i<total;i++){key=keys[i];if(!descriptors.hasOwnProperty(key)){descriptors[key]=superDescriptors[key]}}descriptors.super={enumerable:false,value:Super.prototype};this.prototype=Object.create(Super.prototype,descriptors);this.prototype.constructor=this;if(!this.prototype.configure||this.prototype.configure.isAutoGenerated){this.prototype.configure=makeConfigure(descriptors)}if(!this.prototype.toJSON||this.prototype.toJSON.isAutoGenerated){this.prototype.toJSON=makeToJSON(descriptors)}return this}},extend:{configurable:true,value:function(config){var Child=makeClass(config);Child.inherits(this);return Child}},mixin:{configurable:true,value:function(source){var keys=Object.keys(source),total=keys.length,combined={},key,i;for(i=0;i<total;i++){key=keys[i];combined[key]={value:source[key]}}this.defineProperties(combined);return this}}})}function makePrototype(descriptors,Class){var keys=Object.keys(descriptors),total=keys.length,key,i;for(i=0;i<total;i++){key=keys[i];defineProperty(descriptors,Class.prototype,key,descriptors[key])}if(!descriptors.configure){Object.defineProperty(Class.prototype,"configure",{configurable:true,writable:true,value:makeConfigure(descriptors)})}if(!descriptors.toJSON){Object.defineProperty(Class.prototype,"toJSON",{configurable:true,writable:true,value:makeToJSON(descriptors)})}}function makeConfigure(descriptors){var keys=Object.keys(descriptors),total=keys.length,body="",key,descriptor,i;for(i=0;i<total;i++){key=keys[i];descriptor=descriptors[key];if(descriptor.writable||descriptor.hasOwnProperty("value")||descriptor.hasOwnProperty("set")){body+="this."+key+" = config."+key+" || this."+key+";"}}var configure=new Function("config",body);configure.isAutoGenerated=true;return configure}function makeToJSON(descriptors){var keys=Object.keys(descriptors),total=keys.length,parts=[],key,descriptor,i;for(i=0;i<total;i++){key=keys[i];descriptor=descriptors[key];if(descriptor.enumerable||descriptor.enumerable==null){parts.push(key+": this."+key)}}var toJSON=new Function("return {"+parts.join(",")+"};");toJSON.isAutoGenerated=true;return toJSON}